!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactImageLightbox=e()}}(function(){return function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var u="function"==typeof require&&require;if(!r&&u)return u(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){var i=t[a][1][e];return o(i?i:e)},h,h.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,i){(function(i){"use strict";var n="undefined"!=typeof window?window.React:"undefined"!=typeof i?i.React:null,o="undefined"!=typeof window?window.Radium:"undefined"!=typeof i?i.Radium:null,s=e("./styles"),a=n.createClass({displayName:"ReactImageLightbox",propTypes:{mainSrc:n.PropTypes.string.isRequired,prevSrc:n.PropTypes.string,nextSrc:n.PropTypes.string,mainSrcThumbnail:n.PropTypes.string,prevSrcThumbnail:n.PropTypes.string,nextSrcThumbnail:n.PropTypes.string,onCloseRequest:n.PropTypes.func.isRequired,onMovePrevRequest:n.PropTypes.func,onMoveNextRequest:n.PropTypes.func,discourageDownloads:n.PropTypes.bool,animationDisabled:n.PropTypes.bool,animationOnKeyInput:n.PropTypes.bool,animationDuration:n.PropTypes.number,keyRepeatLimit:n.PropTypes.number,keyRepeatKeyupBonus:n.PropTypes.number,imageTitle:n.PropTypes.node,toolbarButtons:n.PropTypes.arrayOf(n.PropTypes.node),imagePadding:n.PropTypes.number},getDefaultProps:function(){return{onMovePrevRequest:function(){},onMoveNextRequest:function(){},discourageDownloads:!1,animationDisabled:!1,animationOnKeyInput:!1,animationDuration:300,keyRepeatLimit:180,keyRepeatKeyupBonus:40,imagePadding:10}},getInitialState:function(){return{isClosing:!this.props.animationDisabled,isMovingToPrev:!1,isMovingToNext:!1}},componentWillMount:function(){this.listenersAttached=!1,this.keyPressed=!1,this.imageCache={},this.lastKeyDownTime=0,this.keyCounter=0,this.moveRequested=!1},componentDidMount:function(){this.attachListeners(),this.props.animationDisabled||this.setState({isClosing:!1}),this.loadAllImages()},componentWillReceiveProps:function(e){var t=this.getSrcTypes().some(function(t){return this.props[t.name]!=e[t.name]}.bind(this));if(t||this.moveRequested){if(this.moveRequested=!1,!this.props.animationDisabled&&(!this.keyPressed||this.props.animationOnKeyInput)){this.props.mainSrc==e.nextSrc;this.props.mainSrc==e.nextSrc?(this.setState({isMovingToPrev:!0}),setTimeout(function(){this.setState({isMovingToPrev:!1})}.bind(this),this.props.animationDuration)):this.props.mainSrc==e.prevSrc&&(this.setState({isMovingToNext:!0}),setTimeout(function(){this.setState({isMovingToNext:!1})}.bind(this),this.props.animationDuration))}this.keyPressed=!1,this.loadAllImages(e)}},componentWillUnmount:function(){this.detachListeners()},handleKeyInput:function(e){if(e.stopPropagation(),!this.isAnimating()){if("keyup"===e.type)return void(this.lastKeyDownTime-=this.props.keyRepeatKeyupBonus);var t=e.which||e.keyCode,i={esc:27,leftArrow:37,rightArrow:39},n=new Date;if(!(n.getTime()-this.lastKeyDownTime<this.props.keyRepeatLimit&&t!=i.esc))switch(this.lastKeyDownTime=n.getTime(),t){case i.esc:e.preventDefault(),this.props.animationDisabled||!this.props.animationOnKeyInput?this.requestClose(e,!0):this.requestClose(e);break;case i.leftArrow:if(!this.props.prevSrc)return;e.preventDefault(),this.keyPressed=!0,this.requestMovePrev(e);break;case i.rightArrow:if(!this.props.nextSrc)return;e.preventDefault(),this.keyPressed=!0,this.requestMoveNext(e)}}},requestClose:function(e,t){if(t)return this.props.onCloseRequest(e);var i=function(){this.props.onCloseRequest(e)}.bind(this);this.props.animationDisabled?i():(this.setState({isClosing:!0}),setTimeout(i,this.props.animationDuration))},requestMovePrev:function(e){this.keyCounter--,this.moveRequested=!0,this.props.onMovePrevRequest(e)},requestMoveNext:function(e){this.keyCounter++,this.moveRequested=!0,this.props.onMoveNextRequest(e)},attachListeners:function(){this.listenersAttached||(document.addEventListener("keydown",this.handleKeyInput),document.addEventListener("keyup",this.handleKeyInput),this.listenersAttached=!0)},detachListeners:function(){this.listenersAttached&&(document.removeEventListener("keydown",this.handleKeyInput),document.removeEventListener("keyup",this.handleKeyInput),this.listenersAttached=!1)},getSrcTypes:function(){return[{name:"mainSrc",keyEnding:"i"+this.keyCounter},{name:"mainSrcThumbnail",keyEnding:"t"+this.keyCounter},{name:"nextSrc",keyEnding:"i"+(this.keyCounter+1)},{name:"nextSrcThumbnail",keyEnding:"t"+(this.keyCounter+1)},{name:"prevSrc",keyEnding:"i"+(this.keyCounter-1)},{name:"prevSrcThumbnail",keyEnding:"t"+(this.keyCounter-1)}]},getFitSizes:function(e,t,i){var n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=n-2*this.props.imagePadding,a=o-2*this.props.imagePadding;i||(s=Math.min(s,t),a=Math.min(a,e));var r=a/s,u=e/t,l={};return r>u?(l.width=e*s/t,l.height=s):(l.width=a,l.height=t*a/e),l},isAnimating:function(){return this.state.isMovingToNext||this.state.isMovingToPrev||this.state.isClosing},loadImage:function(e,t){if(this.isImageLoaded(e))return void setTimeout(function(){t(null,this.imageCache[e].width,this.imageCache[e].height)},1);var i=this,n=new Image;n.onerror=function(){t("image load error")},n.onload=function(){i.imageCache[e]={loaded:!0,width:this.width,height:this.height},t(null,this.width,this.height)},n.src=e},loadAllImages:function(e){e=e||this.props;var t=function(e,t){return function(i){return i?void(window.console&&window.console.warn(i)):void(this.props[e]==t&&this.forceUpdate())}.bind(this)}.bind(this);this.getSrcTypes().forEach(function(i){var n=i.name;e[n]&&!this.isImageLoaded(e[n])&&this.loadImage(e[n],t(n,e[n]))}.bind(this))},isImageLoaded:function(e){return e&&e in this.imageCache&&this.imageCache[e].loaded},render:function(){var e={};!this.props.animationDisabled&&this.isAnimating()&&(e=s.imageAnimating(this.props.animationDuration));var t={};this.getSrcTypes().forEach(function(e){t[e.name]=e.keyEnding});var i=[],o=function(o,a,r){var u=this.props[o];if(u){var l=[s.image,r,e],h={};if(this.isImageLoaded(u))h=this.getFitSizes(this.imageCache[u].width,this.imageCache[u].height);else{if(!this.isImageLoaded(this.props[o+"Thumbnail"]))return void i.push(n.createElement("div",{className:a+" not-loaded",style:l,key:u+t[o]}));u=this.props[o+"Thumbnail"],h=this.getFitSizes(this.imageCache[u].width,this.imageCache[u].height,!0)}l.push({width:h.width,height:h.height}),this.props.discourageDownloads?(l.push({backgroundImage:"url('"+u+"')"}),l.push(s.imageDiscourager),i.push(n.createElement("div",{className:a,style:l,key:u+t[o]},n.createElement("div",{className:"download-blocker",style:[s.downloadBlocker]})))):i.push(n.createElement("img",{className:a,style:l,src:u,key:u+t[o]}))}}.bind(this);o("nextSrc","image-next",s.imageNext),o("mainSrc","image-current",s.imageCurrent),o("prevSrc","image-prev",s.imagePrev);var a=function(){};return n.createElement("div",{className:"outer"+(this.state.isClosing?" closing":""),style:[s.outer,s.outer.animating(this.props.animationDuration),this.state.isClosing?s.outerClosing:{}]},n.createElement("div",{className:"inner",style:[s.inner]},i),this.props.prevSrc?n.createElement("button",{type:"button",className:"prev-button",key:"prev",style:[s.navButtons,s.navButtonPrev],onClick:this.isAnimating()?a:this.requestMovePrev}):"",this.props.nextSrc?n.createElement("button",{type:"button",className:"next-button",key:"next",style:[s.navButtons,s.navButtonNext],onClick:this.isAnimating()?a:this.requestMoveNext}):"",n.createElement("div",{className:"toolbar",style:[s.toolbar]},n.createElement("ul",{className:"toolbar-left",style:[s.toolbarSide,s.toolbarLeftSide]},n.createElement("li",{style:[s.toolbarItem]},n.createElement("span",{style:[s.toolbarItemChild]},this.props.imageTitle))),n.createElement("ul",{className:"toolbar-right",style:[s.toolbarSide,s.toolbarRightSide]},this.props.toolbarButtons?this.props.toolbarButtons.map(function(e,t){return n.createElement("li",{key:t,style:[s.toolbarItem]},e)}):"",n.createElement("li",{style:[s.toolbarItem]},n.createElement("button",{type:"button",className:"close",style:[s.toolbarItemChild,s.closeButton],onClick:this.isAnimating()?a:this.requestClose})))))}});t.exports=o(a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./styles":2}],2:[function(e,t,i){"use strict";var n="50px",o={outer:{backgroundColor:"rgba(0, 0, 0, 0.85)",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,width:"100%",height:"100%",animating:function(e){return{transition:"opacity "+String(e)+"ms"}}},outerClosing:{opacity:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0},image:{position:"absolute",top:0,bottom:0,margin:"auto",maxWidth:"100%",maxHeight:"100%"},imagePrev:{left:"-100%",right:"100%"},imageNext:{left:"100%",right:"-100%"},imageCurrent:{left:0,right:0},imageDiscourager:{backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain"},imageAnimating:function(e){return{transition:["left "+String(e)+"ms","right "+String(e)+"ms"].join(", ")}},navButtons:{border:"none",position:"absolute",top:0,bottom:0,width:"20px",height:"34px",padding:"40px 40px",margin:"auto",cursor:"pointer",opacity:.7,":hover":{opacity:1},":active":{opacity:.7}},navButtonPrev:{left:0,background:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjM0Ij48cGF0aCBkPSJtIDE5LDMgLTIsLTIgLTE2LDE2IDE2LDE2IDEsLTEgLTE1LC0xNSAxNSwtMTUgeiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg==') no-repeat center"},navButtonNext:{right:0,background:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjM0Ij48cGF0aCBkPSJtIDEsMyAyLC0yIDE2LDE2IC0xNiwxNiAtMSwtMSAxNSwtMTUgLTE1LC0xNSB6IiBmaWxsPSIjRkZGIi8+PC9zdmc+') no-repeat center"},downloadBlocker:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')",backgroundSize:"cover"},toolbar:{backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",left:0,top:0,right:0,height:n},toolbarSide:{lineHeight:n,position:"absolute",top:0,bottom:0,margin:0,maxWidth:"48%"},toolbarLeftSide:{paddingLeft:"20px",paddingRight:0,left:0},toolbarRightSide:{paddingLeft:0,paddingRight:"20px",right:0},toolbarItem:{display:"inline-block",lineHeight:n,padding:"0 6px",color:"#FFFFFF",fontSize:"120%",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},toolbarItemChild:{verticalAlign:"middle"},closeButton:{width:"25px",height:"25px",cursor:"pointer",border:"none",background:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48cGF0aCBkPSJtIDEsMyAxLjI1LC0xLjI1IDcuNSw3LjUgNy41LC03LjUgMS4yNSwxLjI1IC03LjUsNy41IDcuNSw3LjUgLTEuMjUsMS4yNSAtNy41LC03LjUgLTcuNSw3LjUgLTEuMjUsLTEuMjUgNy41LC03LjUgLTcuNSwtNy41IHoiIGZpbGw9IiNGRkYiLz48L3N2Zz4=') no-repeat center",":hover":{opacity:.7},":active":{outline:"none"}}};t.exports=o},{}]},{},[1])(1)});